<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ì‹¬ë¦¬ í…ŒìŠ¤íŠ¸ - ë‚˜ë¥¼ ì•Œì•„ê°€ëŠ” ì‹œê°„</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&family=Playfair+Display:wght@400;700;900&display=swap" rel="stylesheet">
<style>
:root {
    --primary: #2D1B4E;
    --secondary: #E8B4F9;
    --accent: #FFD93D;
    --background: #FAF7F2;
    --text: #1A1A1A;
    --card-bg: #FFFFFF;
    --shadow: rgba(45, 27, 78, 0.1);
}
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
    font-family: 'Noto Sans KR', sans-serif;
    background: var(--background);
    color: var(--text);
    min-height: 100vh;
    overflow-x: hidden;
}
.bg-pattern {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    z-index: -1; opacity: 0.05;
    background-image: radial-gradient(circle at 20% 50%, var(--secondary) 2px, transparent 2px),
                      radial-gradient(circle at 80% 80%, var(--accent) 2px, transparent 2px);
    background-size: 50px 50px;
    animation: float 20s infinite linear;
}
@keyframes float { 0% { transform: translateY(0) rotate(0deg); } 100% { transform: translateY(-50px) rotate(5deg); } }

/* ë¡œê·¸ì¸ í™”ë©´ */
.login-screen { display: flex; align-items: center; justify-content: center; min-height: 100vh; padding: 2rem; animation: fadeIn 0.8s ease-out; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
.login-container {
    background: var(--card-bg);
    padding: 4rem 3rem;
    border-radius: 30px;
    box-shadow: 0 20px 60px var(--shadow);
    max-width: 500px;
    width: 100%;
    text-align: center;
    position: relative;
    overflow: hidden;
}
.login-container::before {
    content: '';
    position: absolute; top: -50%; right: -50%; width: 200%; height: 200%;
    background: linear-gradient(45deg, var(--secondary), var(--accent));
    opacity: 0.1; transform: rotate(45deg);
}
.login-container > * { position: relative; z-index: 1; }
.logo { font-family: 'Playfair Display', serif; font-size: 3rem; font-weight: 900; color: var(--primary); margin-bottom: 1rem; letter-spacing: -2px; }
.subtitle { font-size: 1.1rem; color: #666; margin-bottom: 3rem; font-weight: 300; }
.google-btn {
    display: inline-flex; align-items: center; justify-content: center; gap: 1rem;
    padding: 1.2rem 2.5rem; background: var(--primary); color: white; border: none; border-radius: 50px;
    font-size: 1.1rem; font-weight: 500; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 20px rgba(45, 27, 78, 0.3); margin-bottom: 1.5rem;
}
.google-btn:hover { transform: translateY(-3px); box-shadow: 0 8px 30px rgba(45, 27, 78, 0.4); }
.skip-btn { display: block; width: 100%; padding: 1rem; background: transparent; color: #666; border: 2px solid #E0E0E0; border-radius: 50px; font-size: 1rem; cursor: pointer; transition: all 0.3s ease; font-weight: 500; }
.skip-btn:hover { border-color: var(--secondary); color: var(--primary); }
.notice { margin-top: 1.5rem; padding: 1rem; background: #FFF9E6; border-radius: 15px; font-size: 0.9rem; color: #856404; border-left: 4px solid var(--accent); }

/* ê´€ë¦¬ì */
#admin-login { margin-top: 20px; text-align: center; }
#admin-login input { margin: 5px; padding: 0.5rem; border-radius: 5px; border: 1px solid #ccc; }
#admin-login button { margin-top: 10px; padding: 0.7rem 1.5rem; border-radius: 25px; border: none; background: var(--secondary); color: var(--primary); cursor: pointer; font-weight: 500; }
#admin-login button:hover { background: var(--primary); color: white; }

/* ë©”ì¸ í™”ë©´ */
.main-screen { display: none; min-height: 100vh; padding: 2rem; animation: fadeIn 0.8s ease-out; }
.main-screen.active { display: block; }
.header { text-align: center; margin-bottom: 4rem; padding-top: 2rem; }
.header h1 { font-family: 'Playfair Display', serif; font-size: 3.5rem; font-weight: 900; color: var(--primary); margin-bottom: 0.5rem; letter-spacing: -2px; }
.header p { font-size: 1.2rem; color: #666; font-weight: 300; }
.user-info { position: absolute; top: 2rem; right: 2rem; display: flex; align-items: center; gap: 1rem; background: white; padding: 0.8rem 1.5rem; border-radius: 50px; box-shadow: 0 4px 15px var(--shadow); }
.user-email { font-size: 0.9rem; color: var(--primary); font-weight: 500; }
.logout-btn { padding: 0.5rem 1rem; background: var(--secondary); color: var(--primary); border: none; border-radius: 20px; cursor: pointer; font-weight: 500; transition: all 0.3s ease; }
.logout-btn:hover { background: var(--primary); color: white; }
.tests-grid { max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 2rem; padding: 2rem 0; }
.test-card { background: var(--card-bg); padding: 3rem 2rem; border-radius: 25px; box-shadow: 0 10px 40px var(--shadow); cursor: pointer; transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); position: relative; overflow: hidden; }
.test-card::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 6px; background: linear-gradient(90deg, var(--secondary), var(--accent)); transform: scaleX(0); transition: transform 0.4s ease; }
.test-card:hover::before { transform: scaleX(1); }
.test-card:hover { transform: translateY(-10px); box-shadow: 0 20px 60px var(--shadow); }
.test-icon { font-size: 3rem; margin-bottom: 1.5rem; }
.test-card h3 { font-size: 1.8rem; font-weight: 700; color: var(--primary); margin-bottom: 1rem; }
.test-card p { color: #666; line-height: 1.6; font-size: 1rem; }

/* í…ŒìŠ¤íŠ¸/ê²°ê³¼ í™”ë©´ ê³µí†µ */
.test-screen, .result-screen { display: none; min-height: 100vh; padding: 2rem; animation: fadeIn 0.8s ease-out; }
.test-screen.active, .result-screen.active { display: block; }
.test-container, .result-container { max-width: 800px; margin: 0 auto; background: var(--card-bg); padding: 3rem; border-radius: 30px; box-shadow: 0 20px 60px var(--shadow); text-align: center; }
.back-btn { display: inline-flex; align-items: center; gap: 0.5rem; padding: 1rem 2rem; background: white; border: 2px solid var(--primary); color: var(--primary); border-radius: 50px; cursor: pointer; font-size: 1rem; font-weight: 500; transition: all 0.3s ease; margin-bottom: 2rem; }
.back-btn:hover { background: var(--primary); color: white; }

.progress-bar { width: 100%; height: 8px; background: #E0E0E0; border-radius: 10px; margin-bottom: 2rem; overflow: hidden; }
.progress-fill { height: 100%; background: linear-gradient(90deg, var(--secondary), var(--accent)); width: 0%; transition: width 0.3s ease; border-radius: 10px; }

.question-number { color: var(--secondary); font-weight: 700; font-size: 1rem; margin-bottom: 1rem; }
.question-text { font-size: 1.8rem; font-weight: 700; color: var(--primary); margin-bottom: 2rem; line-height: 1.4; }
.answers { display: flex; flex-direction: column; gap: 1rem; }
.answer-btn { padding: 1.5rem 2rem; background: white; border: 2px solid #E0E0E0; border-radius: 20px; font-size: 1.1rem; cursor: pointer; transition: all 0.3s ease; text-align: left; font-weight: 500; color: var(--text); }
.answer-btn:hover { border-color: var(--secondary); background: linear-gradient(90deg, rgba(232, 180, 249, 0.1), rgba(255, 217, 61, 0.1)); transform: translateX(10px); }

.result-icon { font-size: 5rem; margin-bottom: 2rem; animation: bounce 1s ease-out; }
@keyframes bounce { 0%,100%{transform:translateY(0);}50%{transform:translateY(-20px);} }
.result-title { font-size: 2.5rem; font-weight: 900; color: var(--primary); margin-bottom: 1rem; }
.result-description { font-size: 1.2rem; color: #666; line-height: 1.8; margin-bottom: 3rem; }
.send-result-box { background: linear-gradient(135deg, rgba(232,180,249,0.2), rgba(255,217,61,0.2)); padding: 2rem; border-radius: 20px; margin-bottom: 2rem; }
.send-question { font-size: 1.2rem; font-weight: 700; color: var(--primary); margin-bottom: 1.5rem; }
.send-buttons { display: flex; gap: 1rem; justify-content: center; }
.send-yes, .send-no { padding: 1rem 3rem; border: none; border-radius: 50px; font-size: 1.1rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; }
.send-yes { background: var(--primary); color: white; }
.send-yes:hover { background: #1F1235; transform: translateY(-2px); box-shadow: 0 8px 20px rgba(45,27,78,0.3); }
.send-no { background: white; color: var(--primary); border: 2px solid var(--primary); }
.send-no:hover { background: #F5F5F5; }
.home-btn { display: inline-block; padding: 1.2rem 3rem; background: var(--primary); color: white; border: none; border-radius: 50px; font-size: 1.1rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; text-decoration: none; }
.home-btn:hover { transform: translateY(-3px); box-shadow: 0 8px 30px rgba(45,27,78,0.4); }

@media (max-width:768px){.header h1{font-size:2.5rem;}.tests-grid{grid-template-columns:1fr;}.user-info{position:relative;top:auto;right:auto;margin-bottom:2rem;justify-content:center;}.send-buttons{flex-direction:column;}}
</style>
</head>
<body>
<div class="bg-pattern"></div>

<!-- ë¡œê·¸ì¸ í™”ë©´ -->
<div class="login-screen" id="loginScreen">
  <div class="login-container">
    <h1 class="logo">MindTest</h1>
    <p class="subtitle">ë‚˜ë¥¼ ì•Œì•„ê°€ëŠ” ì‹¬ë¦¬ í…ŒìŠ¤íŠ¸</p>
    <button class="google-btn" onclick="handleGoogleLogin()">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
        <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/>
        <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/>
        <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/>
        <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/>
      </svg>
      Google ê³„ì •ìœ¼ë¡œ ì‹œì‘í•˜ê¸°
    </button>
    <button class="skip-btn" onclick="skipLogin()">ë¡œê·¸ì¸í•˜ì§€ ì•Šê³  ì‹œì‘í•˜ê¸°</button>
    <div class="notice">ğŸ’¡ ë¡œê·¸ì¸í•˜ì§€ ì•Šìœ¼ë©´ í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ì´ë©”ì¼ë¡œ ë°›ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</div>
  </div>
</div>

<!-- ê´€ë¦¬ì ë¡œê·¸ì¸ -->
<div id="admin-login">
  <h3>ğŸ“Š ê´€ë¦¬ìì´ì‹ ê°€ìš”?</h3>
  ì•„ì´ë””: <input type="text" id="admin-id"><br>
  ë¹„ë°€ë²ˆí˜¸: <input type="password" id="admin-pw"><br>
  <button id="admin-btn">ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ì—´ê¸°</button>
</div>

<!-- ë©”ì¸ í™”ë©´ -->
<div class="main-screen" id="mainScreen">
  <div class="user-info" id="userInfo" style="display: none;">
    <span class="user-email" id="userEmail"></span>
    <button class="logout-btn" onclick="logout()">ë¡œê·¸ì•„ì›ƒ</button>
  </div>
  <div class="header">
    <h1>ì‹¬ë¦¬ í…ŒìŠ¤íŠ¸</h1>
    <p>ë‹¹ì‹ ì˜ ë§ˆìŒì„ íƒí—˜í•´ë³´ì„¸ìš”</p>
  </div>
  <div class="tests-grid">
    <div class="test-card" onclick="startTest('university')">
      <div class="test-icon">ğŸ“</div>
      <h3>ë‚˜ë‘ ì˜ ë§ëŠ” ëŒ€í•™ì°¾ê¸°</h3>
      <p>ë‹¹ì‹ ì˜ ì„±í–¥ê³¼ ê°€ì¹˜ê´€ì— ë§ëŠ” ì´ìƒì ì¸ ëŒ€í•™ ìœ í˜•ì„ ì°¾ì•„ë“œë¦½ë‹ˆë‹¤.</p>
    </div>
    <div class="test-card" onclick="startTest('psychology')">
      <div class="test-icon">ğŸ§ </div>
      <h3>ì‹¬ë¦¬ í…ŒìŠ¤íŠ¸</h3>
      <p>ìˆ¨ê²¨ì§„ ë‹¹ì‹ ì˜ ì„±ê²©ê³¼ ì‹¬ë¦¬ ìƒíƒœë¥¼ ê¹Šì´ ìˆê²Œ ë¶„ì„í•´ë“œë¦½ë‹ˆë‹¤.</p>
    </div>
    <div class="test-card" onclick="startTest('fortune')">
      <div class="test-icon">ğŸ€</div>
      <h3>ì˜¤ëŠ˜ì˜ í–‰ìš´ ì§€ìˆ˜ í…ŒìŠ¤íŠ¸</h3>
      <p>ì˜¤ëŠ˜ ë‹¹ì‹ ì—ê²Œ ì°¾ì•„ì˜¬ í–‰ìš´ì˜ ì •ë„ë¥¼ ì¬ë¯¸ìˆê²Œ ì¸¡ì •í•´ë³´ì„¸ìš”.</p>
    </div>
  </div>
</div>

<!-- í…ŒìŠ¤íŠ¸ í™”ë©´ -->
<div class="test-screen" id="testScreen">
  <div class="test-container">
    <button class="back-btn" onclick="backToMain()">â† ëŒì•„ê°€ê¸°</button>
    <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
    <div class="question-number" id="questionNumber"></div>
    <div class="question-text" id="questionText"></div>
    <div class="answers" id="answersContainer"></div>
  </div>
</div>

<!-- ê²°ê³¼ í™”ë©´ -->
<div class="result-screen" id="resultScreen">
  <div class="result-container">
    <div class="result-icon">ğŸ‰</div>
    <div class="result-title" id="resultTitle"></div>
    <div class="result-description" id="resultDesc"></div>
    <div class="send-result-box" id="sendBox" style="display:none;">
      <div class="send-question">ê²°ê³¼ë¥¼ ì´ë©”ì¼ë¡œ ë³´ë‚´ì‹œê² ìŠµë‹ˆê¹Œ?</div>
      <div class="send-buttons">
        <button class="send-yes" onclick="sendResult()">ì˜ˆ</button>
        <button class="send-no" onclick="skipSend()">ì•„ë‹ˆì˜¤</button>
      </div>
    </div>
    <a href="#" class="home-btn" onclick="backToMain()">ğŸ  í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
  </div>
</div>

<script type="module">
  // Firebase SDK
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
  import { getAuth, GoogleAuthProvider, signInWithPopup, signOut } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
    projectId: "YOUR_PROJECT_ID",
    storageBucket: "YOUR_PROJECT_ID.appspot.com",
    messagingSenderId: "YOUR_SENDER_ID",
    appId: "YOUR_APP_ID",
    measurementId: "YOUR_MEASUREMENT_ID"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const provider = new GoogleAuthProvider();

  let isLoggedIn = false;
  let userEmail = '';

  window.handleGoogleLogin = function() {
    signInWithPopup(auth, provider)
      .then(result => {
        isLoggedIn = true;
        userEmail = result.user.email;
        document.getElementById("userEmail").textContent = userEmail;
        document.getElementById("userInfo").style.display = "flex";
        showMainScreen();
      })
      .catch(err => { alert("ë¡œê·¸ì¸ ì‹¤íŒ¨: " + err.message); });
  }

  window.logout = function() {
    signOut(auth).then(() => {
      isLoggedIn = false;
      userEmail = '';
      document.getElementById("userInfo").style.display = "none";
      document.getElementById("loginScreen").style.display = "flex";
      document.getElementById("mainScreen").style.display = "none";
    });
  }

  window.skipLogin = function() {
    showMainScreen();
  }

  function showMainScreen() {
    document.getElementById("loginScreen").style.display = "none";
    document.getElementById("testScreen").style.display = "none";
    document.getElementById("resultScreen").style.display = "none";
    document.getElementById("mainScreen").style.display = "block";
  }

  window.startTest = function(testName) {
    document.getElementById("mainScreen").style.display = "none";
    document.getElementById("testScreen").style.display = "block";
    // í…ŒìŠ¤íŠ¸ ì´ˆê¸°í™” ì½”ë“œ ì‚½ì… ê°€ëŠ¥
  }

  window.backToMain = function() {
    showMainScreen();
  }

  window.sendResult = function() {
    if (!isLoggedIn) { alert("ë¡œê·¸ì¸ í›„ì—ë§Œ ê²°ê³¼ë¥¼ ë³´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤."); return; }
    alert("ê²°ê³¼ê°€ ì´ë©”ì¼ë¡œ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤: " + userEmail);
    document.getElementById("sendBox").style.display = "none";
  }

  window.skipSend = function() {
    document.getElementById("sendBox").style.display = "none";
  }
</script>
</body>
</html>
